<form class="ddap-form"
      novalidate
      *ngIf="form"
      [formGroup]="form">
  <div class="row">
    <mat-form-field class="col">
      <input matInput
             placeholder="Display Name"
             formControlName="displayName"
             data-se="inp-display-name"
             required>
    </mat-form-field>
  </div>

  <div class="row"
       formGroupName="variables"
       *ngFor="let variable of variables | keyvalue">
    <mat-form-field class="col">
      <input matInput
             [attr.data-se]="'inp-variable-' + variable.key"
             [placeholder]="variable.value.ui.label"
             [required]="!variable.value.optional"
             [formControlName]="variable.key">
      <mat-hint>{{ variable.value.ui.description }}</mat-hint>
    </mat-form-field>
  </div>

  <h3>
    <mat-icon class="icon icon-clients"></mat-icon>
    <span>Access tier</span>
  </h3>

  <div>
    <label id="access-level-radio-group-label">Select access level</label>
    <mat-radio-group #accessLevelRadioGroup="matRadioGroup"
                     aria-labelledby="access-level-radio-group-label"
                     [formControl]="accessLevelRadio"
                     class="access-radio-group">
      <mat-radio-button [value]="'Read'"
                        data-se="radio-access-level-Read">
        List and read
      </mat-radio-button>
      <mat-radio-button [value]="'Write'"
                        data-se="radio-access-level-Write">
        Read and write
      </mat-radio-button>
    </mat-radio-group>
  </div>
  <div>
    <label id="access-policy-radio-group-label">
      Select access policy type
    </label>
    <mat-icon class="help-text"
              matTooltip="Quickstart will generate a resource protected by an access policy based on standard GA4GH
       standard visa types â€“ ControlledAccessGrants and ResearcherStatus, for controlled access or access by
       institutional affiliation, respectively. Resources generated by this form are unique (and can be freely edited
       in the advanced settings), while policies of the two types, ControlledAccessGrants and ResearcherStatus,
       are shared between all Quickstart resources.">
      help_outline
    </mat-icon>
    <mat-radio-group #accessPolicyRadioGroup="matRadioGroup"
                     aria-labelledby="access-policy-radio-group-label"
                     [formControl]="accessPolicyRadio"
                     class="access-radio-group">
      <mat-radio-button [value]="'ControlledAccessGrants'"
                        data-se="radio-access-policy-ControlledAccessGrants">
        Allow access to anyone with the control access grant
      </mat-radio-button>
      <mat-radio-button [value]="'ResearcherStatus'"
                        data-se="radio-access-policy-ResearcherStatus">
        Allow access to researchers from institution
      </mat-radio-button>
    </mat-radio-group>
  </div>
  <div class="row">
    <mat-form-field class="col">
      <input matInput
             placeholder="Access Policy Value URL"
             formControlName="accessPolicyValue"
             data-se="inp-access-policy-value"
             required>
    </mat-form-field>
  </div>
</form>
